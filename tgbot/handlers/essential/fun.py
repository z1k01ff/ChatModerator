import random
import re
from random import randint

from aiogram import Router, flags, types
from aiogram.filters import Command, CommandObject

from tgbot.misc.parse_numbers import generate_num

fun_router = Router()


def determine_gender(name):
    # Lists of explicit names
    woman_names = ["–ù–∞—Å—Ç–µ–Ω—å–∫–∞"]

    # Women name endings
    women_name_endings = "|".join(
        [
            "sa",
            "—Å–∞",
            "ta",
            "—Ç–∞",
            "—à–∞",
            "sha",
            "–Ω–∞",
            "na",
            "–∏—è",
            "ia",  # existing
            "va",
            "–≤–∞",
            "ya",
            "—è",
            "ina",
            "–∏–Ω–∞",
            "ka",
            "–∫–∞",
            "la",
            "–ª–∞",  # Slavic languages
            "ra",
            "—Ä–∞",
            "sia",
            "—Å–∏—è",
            "ga",
            "–≥–∞",
            "da",
            "–¥–∞",
            "nia",
            "–Ω–∏—è",
            # Slavic languages
            "lie",
            "ly",
            "lee",
            "ley",
            "la",
            "le",
            "ette",
            "elle",
            "anne",  # English language
        ]
    )

    # Check explicit list and name suffixes
    if name in woman_names or re.search(
        f"\w*({women_name_endings})(\W|$)", name, re.IGNORECASE
    ):
        return "woman"
    else:
        return "man"


def select_emoji(length, is_biba):
    # Emojis for bibas, from smallest to largest
    biba_emojis = ["ü•í", "üçå", "üåΩ", "ü•ñ", "üåµ", "üå¥"]

    # Emojis for breasts, from smallest to largest
    breast_emojis = ["üçì", "üçä", "üçé", "ü•≠", "üçâ", "üéÉ"]

    # Select the appropriate list of emojis
    emojis = biba_emojis if is_biba else breast_emojis

    # Select an emoji based on length
    for size, emoji in zip((1, 5, 10, 15, 20, 25), emojis):
        if length <= size:
            return emoji

    # If none of the sizes matched, return the largest emoji
    return emojis[-1]


# Implementing rate limits
@fun_router.message(Command("gay", prefix="!/"))
@flags.rate_limit(limit=120, key="gay")
async def gay(message: types.Message, command: CommandObject):
    """Handler for the /gay command.
    In a humorous and respectful manner, the bot sends a random percentage reflecting a playful take on the user's alignment with a random LGBTQ+ orientation.

    Examples:
        /gay
        /gay Sam
    """
    # Reference the original message's author if it's a reply; otherwise, the command user.

    target = (
        command.args
        if command.args
        else (
            message.reply_to_message.from_user.mention_html()
            if message.reply_to_message
            else message.from_user.mention_html()
        )
    )

    percentage = randint(0, 100)

    # these are a little cringy but doesn't matter
    if percentage > 30:
        phrases = [
            "üåà –û, {username}, —Å—å–æ–≥–æ–¥–Ω—ñ —Ç–∏ –≤–∏–ø—Ä–æ–º—ñ–Ω—é—î—à –≥–µ–π-–µ–Ω–µ—Ä–≥—ñ—é –Ω–∞ –≤—Å—ñ 100% ‚Äî –∑ –ª—é–±–æ–≤'—é —ñ –ø–∏—à–Ω—ñ—Å—Ç—é!",
            "üåà {username} –º–∞—î –≤–∏—Ä–∞–∑–Ω—ñ –ª–µ—Å–±—ñ–π—Å—å–∫—ñ –≤–∞–π–±–∏ —Å—å–æ–≥–æ–¥–Ω—ñ, —Ç–∞–Ω—Ü—é–π–º–æ –ø—ñ–¥ —Ä–∞–π–¥—É–∂–Ω—ñ –±–∞—Ä–≤–∏!",
            "üåà –°—Ö–æ–∂–µ, {username} —Å—å–æ–≥–æ–¥–Ω—ñ –±—ñ—Å–µ–∫—Å—É–∞–ª—å–Ω–∞ –∑—ñ—Ä–∫–∞! –î–≤—ñ—á—ñ –±—ñ–ª—å—à–µ –ª—é–±–æ–≤—ñ, –¥–≤—ñ—á—ñ –±—ñ–ª—å—à–µ –≤–µ—Å–µ–ª–æ—â—ñ–≤!",
            "üåà –°—å–æ–≥–æ–¥–Ω—ñ {username} —Ä–æ–∑–∫–≤—ñ—Ç–∞—î —Ç—Ä–∞–Ω—Å–≥–µ–Ω–¥–µ—Ä–Ω–æ—é –∫—Ä–∞—Å–æ—é. –°–≤—ñ—Ç —è—Å–∫—Ä–∞–≤—ñ—à–∏–π –∑ –∫–æ–∂–Ω–∏–º –∫—Ä–æ–∫–æ–º —É –≤–ª–∞—Å–Ω—ñ–π –ø—Ä–∞–≤–¥—ñ!",
            "üåà {username} —Å—å–æ–≥–æ–¥–Ω—ñ –≤ –æ–±—ñ–π–º–∞—Ö –∞—Å–µ–∫—Å—É–∞–ª—å–Ω–æ—Å—Ç—ñ. –¢–∞—î–º–Ω–∏—Ü—ñ —Å–µ—Ä—Ü—è —Ç–∞–∫—ñ —Ä—ñ–∑–Ω–æ–±–∞—Ä–≤–Ω—ñ!",
            "üåà –Ø–∫ —Ü–µ –±—É—Ç–∏ –∫–≤—ñ—Ä-–∫–æ—Ä–æ–ª–µ–º/–∫–æ—Ä–æ–ª–µ–≤–æ—é, {username}? –°—å–æ–≥–æ–¥–Ω—ñ —Ç–∏ –∑—ñ—Ä–∫–∞ —Ä–∞–π–¥—É–∂–Ω–æ–≥–æ —à–æ—É!",
            "üåà –ü–∞–Ω—Å–µ–∫—Å—É–∞–ª—å–Ω—ñ –ø—Ä–∏–≥–æ–¥–∏ —á–µ–∫–∞—é—Ç—å –Ω–∞ {username}! –õ—é–±–æ–≤ –±–µ–∑ –º–µ–∂ —ñ –µ—Ç–∏–∫–µ—Ç–æ–∫.",
            "üåà {username}, —Ç–∏ –≤–∏–≥–ª—è–¥–∞—î—à —è–∫ –∫–≤—ñ—Ä-—Ä–µ–≤–æ–ª—é—Ü—ñ–æ–Ω–µ—Ä —Å—å–æ–≥–æ–¥–Ω—ñ. –ü–µ—Ä–µ–≤–µ—Ä—Ç–∞–π–º–æ —Å—Ç–µ—Ä–µ–æ—Ç–∏–ø–∏ —Ä–∞–∑–æ–º!",
        ]
    else:
        phrases = [
            "üåà {username}, –º–æ–∂–µ –π –Ω–µ –≥–µ–π, –∞–ª–µ —Ä–∞–π–¥—É–∂–Ω–∏–π —Å–æ—é–∑–Ω–∏–∫ –Ω–∞ –≤—Å—ñ 100%! –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –Ω–∞ —Ä—ñ–≤–Ω—ñ.",
            "üåà –°—å–æ–≥–æ–¥–Ω—ñ {username} –≤–∏–ø—Ä–æ–º—ñ–Ω—é—î —Å—Ç—Ä–µ–π—Ç-–≤–∞–π–±–∏, –∞–ª–µ –∑ –≥–ª–∏–±–æ–∫–∏–º —É–≤–∞–∂–µ–Ω–Ω—è–º –¥–æ –≤—Å—ñ—Ö –∫–æ–ª—å–æ—Ä—ñ–≤ –≤–µ—Å–µ–ª–∫–∏!",
            "üåà {username} –º–æ–∂–µ —ñ –Ω–µ –≤ LGBTQ+ —Å–ø–µ–∫—Ç—Ä—ñ —Å—å–æ–≥–æ–¥–Ω—ñ, –∞–ª–µ —Ä–∞–¥—ñ—Å—Ç—å —ñ –ª—é–±–æ–≤ –¥–æ –≤—Å—ñ—Ö –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ!",
            "üåà {username} –Ω–µ –≥–µ–π? –ù–µ –±—ñ–¥–∞, —Ç–≤–æ—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ LGBTQ+ –Ω–µ –º–µ–Ω—à —Ü—ñ–Ω–Ω–∞!",
            "üåà {username} –≥—Ä–∞—î –Ω–∞ straight-—Å—Ç—Ä—É–Ω–∞—Ö —Å—å–æ–≥–æ–¥–Ω—ñ, –∞–ª–µ —Ä–∞–π–¥—É–∂–Ω—ñ –∞–∫–æ—Ä–¥–∏ –∑–∞–≤–∂–¥–∏ –≤ —Å–µ—Ä—Ü—ñ!",
            "üåà –°—å–æ–≥–æ–¥–Ω—ñ {username} —Å–∫–æ—Ä—ñ—à–µ –∞–ª—ñ-–¥–∂–µ–Ω—Ç–ª—å–º–µ–Ω/–ª–µ–¥—ñ, –Ω—ñ–∂ –≥–µ–π. –†–µ—Å–ø–µ–∫—Ç —ñ –ª—é–±–æ–≤ –¥–æ –∫–æ–∂–Ω–æ–≥–æ!",
            "üåà {username}, —Å—å–æ–≥–æ–¥–Ω—ñ —Ç–∏ –Ω–∞ straight-—à–ª—è—Ö—É, –∞–ª–µ –∑ –ø–æ–≤–∞–≥–æ—é –¥–æ –∫–æ–∂–Ω–æ—ó —ñ–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—ñ!",
            "üåà –ù–∞–≤—ñ—Ç—å —è–∫—â–æ {username} —Å—å–æ–≥–æ–¥–Ω—ñ –Ω–µ –≤ —Ä–∞–π–¥—É–∂–Ω—ñ–π –∑–æ–Ω—ñ, —ó—ó/–π–æ–≥–æ —Å–æ—é–∑–Ω–∏—Ü—å–∫–∞ —Å–∏–ª–∞ –º—ñ—Ü–Ω–∞ —è–∫ –Ω—ñ–∫–æ–ª–∏!",
        ]

    # Send the result with a random orientation
    await message.reply(random.choice(phrases).format(username=target))


@fun_router.message(Command("biba", prefix="!/"))
@flags.rate_limit(limit=60, key="fun")
async def biba(message: types.Message):
    """–•–µ–Ω–¥–ª–µ—Ä, –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã /biba –∏–ª–∏ !biba

    –í –æ—Ç–≤–µ—Ç, –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä –±–∏–±—ã

    –ü—Ä–∏–º–µ—Ä—ã:
        /biba
        /biba 10
        /biba 1-10
        /biba 10-1
        !biba
        !biba 10
        !biba 1-10
        !biba 10-1
    """
    # —Ä–∞–∑–±–∏–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –∫–æ–º–∞–Ω–¥—É –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
    command_parse = re.compile(r"(!biba|/biba) ?(-?\d*)?-?(\d+)?")
    parsed = command_parse.match(message.text)
    # –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ä–∞–∑–º–µ—Ä –±–∏–±—ã –æ—Ç 1 –¥–æ 30 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã)
    length = generate_num(parsed.group(2), parsed.group(3), 1, 30)

    # –µ—Å–ª–∏ —ç—Ç–æ –æ—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ, –±—É–¥–µ–º –º–µ—Ä—è—Ç—å –±–∏–±—É –∞–≤—Ç–æ—Ä–∞ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    # –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –±–∏–±—É —Ç–æ–≥–æ, –∫—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∫–æ–º–∞–Ω–¥—É
    if message.reply_to_message:
        target = message.reply_to_message.from_user.mention_html()
    else:
        target = message.from_user.mention_html()

    gender = determine_gender(message.from_user.first_name)

    # Random chance to switch gender
    switch_chance = 20
    if random.randint(1, 100) <= switch_chance:
        gender = "man" if gender == "woman" else "woman"

    # Select an emoji for the biba or breast
    is_biba = gender == "man"
    emoji = select_emoji(length, is_biba)

    # Send message based on final gender
    if gender == "woman":
        await message.reply(f"{emoji} –£ {target} –≥—Ä—É–¥—å {length // 5} —Ä–∞–∑–º–µ—Ä–∞.")
    else:
        # replace with your message for men
        await message.reply(f"{emoji} –£ {target} –±–∏–±–∞ {length} —Å–º")


@fun_router.message(Command("nation", prefix="!/"))
@flags.rate_limit(limit=120, key="nationality")
async def nationality(message: types.Message):
    """Handler for the /nation command.
    The bot determines the user's nationality randomly and makes a sarcastic joke about it.
    """
    nationalities = {
        "—ñ–Ω–¥—ñ—î—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ —ñ–Ω–¥—ñ—î—Ü—å? –ú–∞–±—É—Ç—å, –∑–±–∏—Ä–∞—î—à—Å—è –º–µ–¥–∏—Ç—É–≤–∞—Ç–∏ –≤ –ø–æ–∑—ñ –ª–æ—Ç–æ—Å–∞ —ñ —Å–ø—ñ–≤–∞—Ç–∏ –º–∞–Ω—Ç—Ä–∏. –ù–µ –∑–∞–±—É–¥—å –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–∏ –∑ –∫–æ—Ä–æ–≤–∞–º–∏ –Ω–∞ –≤—É–ª–∏—Ü—ñ —ñ –∑–∞–ø–∏—Ç–∞—Ç–∏ –≤ –Ω–∏—Ö –ø–æ—Ä–∞–¥–∏.",
        "–Ω—ñ–≥–µ—Ä—ñ—î—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ –Ω—ñ–≥–µ—Ä—ñ—î—Ü—å? –ú–∞–±—É—Ç—å, –ø–ª–∞–Ω—É—î—à —Ä–æ–∑—Å–∏–ª–∞—Ç–∏ —Å–ø–∞–º-–ª–∏—Å—Ç–∏ –ø—Ä–æ –º—ñ–ª—å–π–æ–Ω–∏ –¥–æ–ª–∞—Ä—ñ–≤, —è–∫—ñ —Ç–æ–±—ñ –∑–∞–ª–∏—à–∏–≤ —É —Å–ø–∞–¥–æ–∫ —è–∫–∏–π—Å—å –ø—Ä–∏–Ω—Ü. –ù–µ –∑–∞–±—É–¥—å –≤–¥—è–≥–Ω—É—Ç–∏ –±–∞—Ä–≤–∏—Å—Ç—É —Å–æ—Ä–æ—á–∫—É —ñ —Ç–∞–Ω—Ü—é–≤–∞—Ç–∏ –ø—ñ–¥ —Ä–∏—Ç–º–∏ –∞—Ñ—Ä–æ–±—ñ—Ç—É.",
        "–±—Ä–∞–∑–∏–ª–µ—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ –±—Ä–∞–∑–∏–ª–µ—Ü—å? –ú–∞–±—É—Ç—å, –∑–±–∏—Ä–∞—î—à—Å—è –Ω–∞ –∫–∞—Ä–Ω–∞–≤–∞–ª –≤ –†—ñ–æ. –ù–µ –∑–∞–±—É–¥—å –æ–¥—è–≥–Ω—É—Ç–∏ —è—Å–∫—Ä–∞–≤—ñ –ø—ñ—Ä'—è, –±–ª–∏—Å–∫—ñ—Ç–∫–∏ —ñ —Ç–∞–Ω—Ü—é–≤–∞—Ç–∏ —Å–∞–º–±—É –¥–æ —Ä–∞–Ω–∫—É.",
        "—î–≥–∏–ø—Ç—è–Ω–∏–Ω": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ —î–≥–∏–ø—Ç—è–Ω–∏–Ω? –ú–∞–±—É—Ç—å, –ø–ª–∞–Ω—É—î—à —Ä–æ–∑–≥–∞–¥—É–≤–∞—Ç–∏ —Ç–∞—î–º–Ω–∏—Ü—ñ –ø—ñ—Ä–∞–º—ñ–¥ —ñ —à—É–∫–∞—Ç–∏ —Å–∫–∞—Ä–±–∏ —Ñ–∞—Ä–∞–æ–Ω—ñ–≤. –ù–µ –∑–∞–±—É–¥—å –ø–æ–∫–∞—Ç–∞—Ç–∏—Å—å –Ω–∞ –≤–µ—Ä–±–ª—é–¥—ñ —ñ —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É–≤–∞—Ç–∏—Å—å –∑—ñ —Å—Ñ—ñ–Ω–∫—Å–æ–º.",
        "–∞—Ä–≥–µ–Ω—Ç–∏–Ω–µ—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ –∞—Ä–≥–µ–Ω—Ç–∏–Ω–µ—Ü—å? –ú–∞–±—É—Ç—å, –∑–±–∏—Ä–∞—î—à—Å—è –Ω–∞ —Ñ—É—Ç–±–æ–ª—å–Ω–∏–π –º–∞—Ç—á —ñ –∫—Ä–∏—á–∞—Ç–∏ 'Vamos Argentina!'. –ù–µ –∑–∞–±—É–¥—å –ø–æ—Å–∫–∞—Ä–∂–∏—Ç–∏—Å—å –Ω–∞ —É—Ä—è–¥ —ñ –µ–∫–æ–Ω–æ–º—ñ–∫—É, —è–∫ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π –∞—Ä–≥–µ–Ω—Ç–∏–Ω–µ—Ü—å.",
        "—à–≤–µ–¥": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ —à–≤–µ–¥? –ú–∞–±—É—Ç—å, –ø–ª–∞–Ω—É—î—à –Ω–∞—Å–æ–ª–æ–¥–∂—É–≤–∞—Ç–∏—Å—å –ª–∞–≥–æ–º–æ–º —ñ –≥—ñ–≥–≥–µ. –ù–µ –∑–∞–±—É–¥—å –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ –ø–µ—Ä–µ–≤–∞–≥–∏ —Å–æ—Ü—ñ–∞–ª—ñ–∑–º—É —ñ –ø–æ—Ö–≤–∞–ª–∏—Ç–∏—Å—å —Å–≤–æ—î—é –ª—é–±–æ–≤'—é –¥–æ –ø—Ä–∏—Ä–æ–¥–∏.",
        "—É–∫—Ä–∞—ó–Ω–µ—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ —É–∫—Ä–∞—ó–Ω–µ—Ü—å? –ú–∞–±—É—Ç—å, –ø–ª–∞–Ω—É—î—à –≤–∏–ø–∏—Ç–∏ –≥–æ—Ä—ñ–ª–∫–∏ —ñ –∑'—ó—Å—Ç–∏ —Å–∞–ª–æ. –ù–µ –∑–∞–±—É–¥—å –ø–æ—Å–∫–∞—Ä–∂–∏—Ç–∏—Å—å –Ω–∞ —É—Ä—è–¥ —ñ –∑–≥–∞–¥–∞—Ç–∏ –ø—Ä–æ –≤–µ–ª–∏–∫–µ –∫–æ–∑–∞—Ü—Ç–≤–æ.",
        "–∞–º–µ—Ä–∏–∫–∞–Ω–µ—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ –∞–º–µ—Ä–∏–∫–∞–Ω–µ—Ü—å? –ú–∞–±—É—Ç—å, –≥–∞–º–±—É—Ä–≥–µ—Ä—ñ–≤ —ñ –∫–æ–ª—É —Ö–æ—á–µ—à. –ù–µ –∑–∞–±—É–¥—å –ø—Ä–∏—Ö–æ–ø–∏—Ç–∏ —Å–≤—ñ–π —É–ª—é–±–ª–µ–Ω–∏–π –±–µ–π—Å–±–æ–ª—å–Ω–∏–π –∫–∞—à–∫–µ—Ç —ñ –∑–±—Ä–æ—é, –±–µ–∑ –Ω–∏—Ö –Ω—ñ–∫—É–¥–∏.",
        "—Ñ—Ä–∞–Ω—Ü—É–∑": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ —Ñ—Ä–∞–Ω—Ü—É–∑? –ú–∞–±—É—Ç—å, –∫—Ä—É–∞—Å–∞–Ω—ñ–≤ —ñ –≤–∏–Ω–∞ —Ö–æ—á–µ—à. –ù–µ –∑–∞–±—É–¥—å –ø–æ—Å–∫–∞—Ä–∂–∏—Ç–∏—Å—å –Ω–∞ –≤—Å–µ –ø—ñ–¥—Ä—è–¥ —ñ –ø–æ–≤–æ–¥–∏—Ç–∏—Å—å –∑–≤–µ—Ä—Ö–Ω—å–æ, —è–∫ —Å–ø—Ä–∞–≤–∂–Ω—ñ–π —Ñ—Ä–∞–Ω—Ü—É–∑.",
        "–Ω—ñ–º–µ—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ –Ω—ñ–º–µ—Ü—å? –ú–∞–±—É—Ç—å, –ø–∏–≤–∞ —ñ –∫–æ–≤–±–∞—Å–æ–∫ —Ö–æ—á–µ—à. –ù–µ –∑–∞–±—É–¥—å –±—É—Ç–∏ –ø—É–Ω–∫—Ç—É–∞–ª—å–Ω–∏–º —ñ –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—å –ø—Ä–∞–≤–∏–ª, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–æ–Ω–∏ –±–µ–∑–≥–ª—É–∑–¥—ñ.",
        "—ñ—Ç–∞–ª—ñ—î—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ —ñ—Ç–∞–ª—ñ—î—Ü—å? –ú–∞–±—É—Ç—å, –ø–∞—Å—Ç–∏ —ñ –ø—ñ—Ü–∏ —Ö–æ—á–µ—à. –ù–µ –∑–∞–±—É–¥—å –≥–æ–≤–æ—Ä–∏—Ç–∏ –≥–æ–ª–æ—Å–Ω–æ, —Ä–æ–∑–º–∞—Ö—É–≤–∞—Ç–∏ —Ä—É–∫–∞–º–∏ —ñ —Ü—ñ–ª—É–≤–∞—Ç–∏ –≤—Å—ñ—Ö –≤ —â–æ–∫–∏.",
        "–∫–∏—Ç–∞—î—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ –∫–∏—Ç–∞—î—Ü—å? –ú–∞–±—É—Ç—å, —Ä–∏—Å—É —ñ –¥–∏–º—Å–∞–º—ñ–≤ —Ö–æ—á–µ—à. –ù–µ –∑–∞–±—É–¥—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø–æ 12 –≥–æ–¥–∏–Ω –Ω–∞ –¥–µ–Ω—å —ñ –∫–ª–∞–Ω—è—Ç–∏—Å—å —Å–≤–æ—î–º—É –±–æ—Å—Å—É.",
        "–º–µ–∫—Å–∏–∫–∞–Ω–µ—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ –º–µ–∫—Å–∏–∫–∞–Ω–µ—Ü—å? –ú–∞–±—É—Ç—å, —Ç–∞–∫–æ—Å —ñ —Ç–µ–∫—ñ–ª—É —Ö–æ—á–µ—à. –ù–µ –∑–∞–±—É–¥—å –æ–¥—è–≥–Ω—É—Ç–∏ —Å–æ–º–±—Ä–µ—Ä–æ —ñ —Å—Ç–∞–Ω—Ü—é–≤–∞—Ç–∏ —Å–∞–ª—å—Å—É, –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –Ω–µ –≤–º—ñ—î—à.",
        "–∞–≤—Å—Ç—Ä–∞–ª—ñ—î—Ü—å": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ –∞–≤—Å—Ç—Ä–∞–ª—ñ—î—Ü—å? –ú–∞–±—É—Ç—å, —à–∞—à–ª–∏–∫—ñ–≤ —ñ –ø–∏–≤–∞ —Ö–æ—á–µ—à. –ù–µ –∑–∞–±—É–¥—å –ø–æ–≥–ª–∞–¥–∏—Ç–∏ –∫–æ–∞–ª—É —ñ —Å–∫–∞–∑–∞—Ç–∏ 'g'day mate' –∫–æ–∂–Ω–æ–º—É –∑—É—Å—Ç—Ä—ñ—á–Ω–æ–º—É.",
        "—Ä–æ—Å—ñ—è–Ω–∏–Ω": "–¢–æ —â–æ, —Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ —Ä–æ—Å—ñ—è–Ω–∏–Ω? –ú–∞–±—É—Ç—å, –≥–æ—Ä—ñ–ª–∫–∏ —ñ —ñ–∫—Ä–∏ —Ö–æ—á–µ—à. –ù–µ –∑–∞–±—É–¥—å –æ–¥—è–≥–Ω—É—Ç–∏ —à–∞–ø–∫—É-–≤—É—à–∞–Ω–∫—É —ñ —Ç–∞–Ω—Ü—é–≤–∞—Ç–∏ –≥–æ–ø–∞–∫, –Ω–∞–≤—ñ—Ç—å –≤–ª—ñ—Ç–∫—É.",
    }

    # Randomly select a nationality
    nationality = random.choice(list(nationalities.keys()))

    # Get the corresponding joke for the selected nationality
    joke = nationalities[nationality]

    target = (
        message.reply_to_message.from_user.mention_html()
        if message.reply_to_message
        else message.from_user.mention_html()
    )

    # Send the joke
    await message.reply(f"{target}, {joke}")
